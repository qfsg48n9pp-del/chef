<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù…Ù†ØµØ© ÙØ§Ù„Ø­ Ø§Ù„Ù‡Ø±ÙƒØ§Ù† - Ø´Ø§Øª Ù…Ø¨Ø§Ø´Ø±</title>
    
    <script src="https://unpkg.com/peerjs@1.3.1/dist/peerjs.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    
    <style>
        :root { --gold: #FFD700; --dark: #0f0f0f; --neon: #00F2EA; }
        body { background: var(--dark); color: white; font-family: sans-serif; display: flex; flex-direction: column; height: 100vh; margin: 0; }
        .header { padding: 15px; background: #1a1a1a; border-bottom: 2px solid var(--gold); display: flex; justify-content: space-between; align-items: center; }
        #chat { flex: 1; padding: 20px; overflow-y: auto; background: #050505; }
        .msg { margin-bottom: 10px; padding: 10px 15px; border-radius: 10px; background: #222; max-width: 80%; }
        .owner-msg { border-right: 4px solid var(--gold); background: #1a1a00 !important; }
        .input-area { padding: 15px; background: #1a1a1a; display: flex; gap: 10px; }
        input { flex: 1; padding: 12px; border-radius: 8px; border: none; background: #333; color: white; }
        button { padding: 10px 20px; background: var(--gold); border: none; border-radius: 8px; cursor: pointer; font-weight: bold; }
        .owner-badge { color: var(--gold); display: none; font-size: 0.8rem; border: 1px solid var(--gold); padding: 2px 5px; border-radius: 4px; }
    </style>
</head>
<body>

<header class="header">
    <div style="font-weight: bold;">AL-HARKAN LIVE ğŸ¦¾</div>
    <div id="ownerTag" class="owner-badge">OWNER</div>
</header>

<div id="chat">
    <div class="msg">Ø§Ù„Ù†Ø¸Ø§Ù…: Ø£Ø±Ø³Ù„ Ø§Ù„Ø±Ø§Ø¨Ø· Ù„Ø®ÙˆÙŠÙƒ Ø¹Ø´Ø§Ù† ÙŠØ¨Ø¯Ø£ Ø§Ù„Ø´Ø§Øª Ø§Ù„Ù…Ø¨Ø§Ø´Ø±..</div>
</div>

<div class="input-area">
    <input type="text" id="msgInput" placeholder="Ø§ÙƒØªØ¨ Ø±Ø³Ø§Ù„ØªÙƒ Ø£Ùˆ ÙƒÙˆØ¯ Gh..." onkeypress="if(event.key==='Enter') send()">
    <button onclick="send()">Ø¥Ø±Ø³Ø§Ù„</button>
</div>

<script>
    let isOwner = false;
    let myName = "Ù…Ø³ØªØ®Ø¯Ù…";
    
    // Ø¥Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ø§ØªØµØ§Ù„ Ø§Ù„Ù…Ø¨Ø§Ø´Ø± (Peer-to-Peer)
    // Ù…Ù„Ø§Ø­Ø¸Ø©: PeerJS ÙŠØ±Ø¨Ø· Ø§Ù„Ù…ØªØµÙØ­Ø§Øª Ø¨Ø¨Ø¹Ø¶ Ù…Ø¨Ø§Ø´Ø±Ø© Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… ID Ø¨Ø³ÙŠØ·
    const peer = new Peer('harkan-' + Math.floor(Math.random() * 1000)); 
    let conn;

    peer.on('open', (id) => {
        console.log('ID Ø§Ù„Ø®Ø§Øµ Ø¨Ùƒ Ù‡Ùˆ: ' + id);
        // Ù‡Ù†Ø§ Ù†Ù‚Ø¯Ø± Ù†Ø±Ø¨Ø· Ø¨ÙŠÙ†Ùƒ ÙˆØ¨ÙŠÙ† Ø®ÙˆÙŠÙƒ ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹ Ø¥Ø°Ø§ Ø¹Ø±ÙÙ†Ø§ Ø§Ù„Ù€ ID
    });

    // Ø§Ø³ØªÙ‚Ø¨Ø§Ù„ Ø§Ù„Ø§ØªØµØ§Ù„ Ù…Ù† Ø®ÙˆÙŠÙƒ
    peer.on('connection', (c) => {
        conn = c;
        setupChat();
    });

    function setupChat() {
        conn.on('data', (data) => {
            appendMsg(data.name, data.text, data.isOwner);
        });
    }

    function send() {
        const input = document.getElementById('msgInput');
        const val = input.value.trim();
        if(!val) return;

        // ØªÙØ¹ÙŠÙ„ Ø§Ù„Ø£ÙˆÙ†Ø± Ø§Ù„Ø³Ø±ÙŠ
        if(val === "Gh") {
            isOwner = true;
            myName = "ÙØ§Ù„Ø­ Ø§Ù„Ù‡Ø±ÙƒØ§Ù†"; [cite: 2026-01-16]
            document.getElementById('ownerTag').style.display = 'block';
            appendMsg("Ø§Ù„Ù†Ø¸Ø§Ù…", "Ø£Ø±Ø­Ø¨ ÙŠØ§ Ø£ÙˆÙ†Ø± ÙØ§Ù„Ø­! ØªÙ… Ø§Ù„ØªÙØ¹ÙŠÙ„ ğŸ‘‘", true);
            input.value = "";
            return;
        }

        appendMsg(myName, val, isOwner);
        
        // Ø¥Ø±Ø³Ø§Ù„ Ù„Ù„Ø·Ø±Ù Ø§Ù„Ø«Ø§Ù†ÙŠ Ø¥Ø°Ø§ ÙƒØ§Ù† Ù…ØªØµÙ„
        if(conn && conn.open) {
            conn.send({ name: myName, text: val, isOwner: isOwner });
        }
        input.value = "";
    }

    function appendMsg(name, text, owner) {
        const chat = document.getElementById('chat');
        const div = document.createElement('div');
        div.className = owner ? "msg owner-msg" : "msg";
        div.innerHTML = `<b style="color:${owner?'var(--gold)':'var(--neon)'}">${name}:</b> ${text}`;
        chat.appendChild(div);
        chat.scrollTop = chat.scrollHeight;
    }

    // Ù„Ù„ØªØ¨Ø³ÙŠØ·: Ø¥Ø°Ø§ ØªØ¨ÙŠ ØªØ±Ø¨Ø· Ù…Ø¹ Ø®ÙˆÙŠÙƒØŒ Ù„Ø§Ø²Ù… ØªØ­Ø· Ø§Ù„Ù€ ID Ø­Ù‚Ù‡ Ù‡Ù†Ø§ (Ù‡Ø°Ø§ Ø§Ù„Ø¬Ø²Ø¡ Ù„Ù„ØªØ·ÙˆÙŠØ±)
    // Ù„ÙƒÙ† Ø­Ø§Ù„ÙŠØ§Ù‹ Ø§Ù„ÙƒÙˆØ¯ ÙŠØ¹Ù…Ù„ "Ù…Ø­Ù„ÙŠØ§Ù‹" ÙˆÙƒØ´Ø§Øª ÙˆØ§Ø¬Ù‡Ø© ÙØ®Ù….
</script>

</body>
</html>
